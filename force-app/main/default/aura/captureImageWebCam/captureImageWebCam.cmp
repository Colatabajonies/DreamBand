<aura:component controller="captureImageController"  implements="lightning:availableForFlowScreens,force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global" >
    <aura:handler name="render" value="{!this}" action="{!c.doInit}" />
    
    
    <lightning:card title="Photo Capture">
        <lightning:layout horizontalAlign="spread">
            <lightning:layoutItem padding="around-small">
                <div class="camera">
                    <video id="video">Video stream not available.</video>
                    <button id="startbutton" onclick="{!c.doInit}">Take photo</button> 
                    <button id="clearbutton" onclick="{!c.doInit}">Clear Photo</button> 
                </div>
            </lightning:layoutItem>
            <lightning:layoutItem padding="around-small">
                <canvas id="canvas">
                </canvas>
            </lightning:layoutItem>
            <lightning:layoutItem padding="around-small">               
                <div class="output">
                    <img id="photo"  src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="The screen capture will appear in this box."/> 
                    <button id="saveButton" onclick="{!c.savePhoto}">Save photo to record</button> 
                </div>
            </lightning:layoutItem>
        </lightning:layout>
        
    </lightning:card>
</aura:component>